

if [ -n "$1" ]
then

rm -r dist
rm -r  *.egg-info
if [ -d "build" ]; then
rm -r build
fi
rm setup.py

ls -a
git diff --exit-code && echo git-diff=$?

else

if [ -z "${minor}" ]; then minor=.0
else minor=${minor:1}; fi
python3 setup.py sdist bdist_wheel && \
tar tzf dist/*-1${minor}.*.tar.gz && \
unzip -l dist/*-1${minor}.*-py3-none-any.whl && \
twine check dist/*

#twine upload --repository-url https://test.pypi.org/legacy/ dist/*

fi
