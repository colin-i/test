
#optional  1 file

if [ -z "${1}" ]; then file="colin-i-ubuntu-ppa"
else file="${1}"; fi

sudo apt update -o Dir::Etc::sourcelist=/etc/apt/sources.list.d/${file}.list -o Dir::Etc::sourceparts="-" -o APT::Get::List-Cleanup="0"

#/var/cache/apt
#sudo apt update -o Dir::Cache=./apt_cache
#sudo apt install --download-only ovideo -o Dir::Cache::archives=./apt_cache/archives -o Dir::Cache=./apt_cache
#when doing this at a large scale (upgrading dist), don't do later "dpkg -i ./*", it is not ordered and will fail for most of the packages(example will put sudo,git and not libc and sudo,git will not work), do the same apt update/upgrade and will be: Need to get X B / XXX B (will not download what it is not required again)

#colin-i-ubuntu-ppa.list  docker.list  github-cli.list  google-chrome.list  google-earth-pro.list  mozillateam-ubuntu-ppa.list

#echo '
#Package: *
#Pin: release o=LP-PPA-mozillateam
#Pin-Priority: 1001
#' | sudo tee /etc/apt/preferences.d/mozilla-firefox

#this is not true: "sudo apt update command again brings back the snap"; if is true, pin-prio.. -10 and pin .. a=* for pack.. snapd

#dpkg --get-selections | grep "deinstall$" | cut -f1 | xargs sudo apt --yes purge
